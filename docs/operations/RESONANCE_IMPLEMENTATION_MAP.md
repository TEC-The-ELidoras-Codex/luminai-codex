# Resonance Implementation Map — Frontend Surfaces + JSON Contracts

This note connects the deterministic FigJam exports (`design/figma/exports`) to the new Next.js App Router scaffold inside `/website`. Treat it as the authoritative wiring diagram for engineering handoff.

---

## Assets Generated by `scripts/design/build_screen_specs.py`

| Screen | JSON File | App Route | Surface Component |
|--------|-----------|-----------|-------------------|
| Resonance Dashboard | `design/figma/exports/RESONANCE_SCR-01_DASH_SKEL_struct.json` | `/dashboard` (also `/`) | `components/surfaces/DashboardSurface.tsx` |
| Witness Chat Orbit | `design/figma/exports/RESONANCE_SCR-02_CHAT_SKEL_struct.json` | `/chat` | `components/surfaces/ChatSurface.tsx` |
| Airth Research Guard | `design/figma/exports/RESONANCE_SCR-03_NOTEBOOK_SKEL_struct.json` | `/notebook` | `components/surfaces/NotebookSurface.tsx` |
| Theme Studio | `design/figma/exports/RESONANCE_SCR-04_THEME_SKEL_struct.json` | `/theme` | `components/surfaces/ThemeSurface.tsx` |
| Pod Studio | `design/figma/exports/RESONANCE_SCR-05_POD_SKEL_struct.json` | `/pod` | `components/surfaces/PodcastSurface.tsx` |
| Resonance Map | `design/figma/exports/RESONANCE_SCR-06_RMAP_SKEL_struct.json` | `/map` | `components/surfaces/MapSurface.tsx` |

All JSON exports share a consistent schema: `grid` (baseline, columns, gutters), `sections` (semantic IDs, copy, and component slots), plus authoring metadata. Each surface component mirrors the `sections` array, so future automation can hydrate layouts directly from the JSON without touching the component structure.

---

## Next.js 15 Scaffold ( `/website` )

- **App Router:** `app/` folder routes match the six resonance surfaces; `/page.tsx` aliases the dashboard.
- **Shell:** `components/layout/ArcShell.tsx` wraps every surface with the shared header, witness rail, and cosmic gradient background.
- **Design Tokens:** `lib/design-tokens.ts` re-expresses `design_tokens.json` as TypeScript, feeding Tailwind (`tailwind.config.ts`) and general styling.
- **Navigation:** `components/common/Header.tsx` exposes all routes with emoji call-signs to retain the cosmic-futurist tone mandated by `docs/reference/QUICK_REFERENCE_READY.md`.

### Tailwind + Styling

- Tailwind consumes design tokens (palette, radii, motion) directly; any update to `design_tokens.json` should be ported into `lib/design-tokens.ts` before running `pnpm dev` / `npm run dev`.
- Backgrounds layer three radial gradients to match the FigJam halo spec.
- Archetypal components (`PresenceRail`, metric cards, command queue) are intentionally declarative—swap data sources without modifying layout.

### Motion / Parallax Hooks

The tokens ship with `shimmer`, `pulse`, and `float` keyframes. Components currently rely on Tailwind animation utilities. When integrating live data, prefer CSS-driven animations for ambience and queue React-driven motion (Framer) for stateful transitions.

---

## Integration Workflow

1. **Update JSON** in `design/figma/exports/` via `python scripts/design/build_screen_specs.py` whenever FigJam skeletons change.
2. **Reflect Tokens** by syncing the palette/motion definitions from `design_tokens.json` into `lib/design-tokens.ts` (generator backlog item: automate this step).
3. **Hydrate Surfaces** by replacing placeholder arrays (`conversation`, `episodes`, etc.) with data fetched from Harmony Node or mock APIs.
4. **Backlink Memories** from surfaces into `Codex Hub` once endpoints are live—`ArcShell` already exposes a slot for additional rails if needed.

---

## Next Steps & Owner Notes

- **Backend Alignment:** Map surface placeholders to SDK endpoints listed in `docs/reference/QUICK_REFERENCE_READY.md` (pending ticket).
- **Spotify Integration:** `/theme` and `/pod` routes already name the sync actions; the Spotify API client can thread through via React Server Actions.
- **Automation Candidate:** JSON → React codegen is now trivial; consider adding a small transformer in `scripts/design` that emits TSX fragments from the specs.

Maintainer: @Elidorascodex · Status: ✅ Ready for engineering handoff.
